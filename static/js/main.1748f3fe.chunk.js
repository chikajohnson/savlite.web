(this.webpackJsonpcashingame=this.webpackJsonpcashingame||[]).push([[1],{17:function(n,t,e){"use strict";var r=e(28),u=e(14),o=e(11),c=e(34),a=e(3),i=e(2),s={isMenuOpen:!1,useLiteClient:!1,isMobile:window.innerWidth<=i.w,useGlobalHeader:!0},f=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i.a:return Object(a.a)({},n,{error:null});case i.J:return Object(a.a)({},n,{fetching:!0});case i.I:return Object(a.a)({},n,{fetching:!1});case i.R:case i.V:case i.S:return Object(a.a)({},n,{currentUser:t.user?t.user:null,error:null,fetching:!1});case i.x:case i.X:case i.U:return Object(a.a)({},n,{error:t.error,fetching:!1});case i.W:case i.T:return Object(a.a)({},n,{fetching:!0});case i.f:return Object(a.a)({},n,{error:null});case i.F:case i.M:return Object(a.a)({},n,{redirectTo:null});case i.H:return Object(a.a)({},n,{reload:!1});case i.o:return Object(a.a)({},n,{redirectTo:null});case i.N:return Object(a.a)({},n,{isMenuOpen:t.open});case i.L:return Object(a.a)({},n,{useGlobalHeader:!0});case i.n:return Object(a.a)({},n,{useGlobalHeader:!1});case i.v:return Object(a.a)({},n,{currentUser:null,isMenuOpen:!1});case i.p:return Object(a.a)({},n,{isMobile:t.mobileSize});default:return n}},d={modalType:null,modalProps:{open:!1,show:!1}},l=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i.M:return{modalProps:t.modalProps,modalType:t.modalType};case i.o:return d;default:return n}},p={bonus:0,cash:0,balance:0,transactions:[],banks:[]},b=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i.Z:case i.Y:return Object(a.a)({},n,{bonus:t.bonus,cash:t.cash,balance:t.balance});case i.ab:return Object(a.a)({},n,{transactions:t.transactions});case i.y:return Object(a.a)({},n,{cash:Number(n.cash)+Number(t.amount),balance:Number(n.balance)+Number(t.amount)});case i.d:return Object(a.a)({},n,{banks:t.banks});case i.v:return{};default:return n}},h={first_name:"",last_name:"",gender:"",date_of_birth:"",address:"",state:"",avatar:"",account_name:"",bank_name:"",account_number:"",currency:""},O=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i.t:return Object(a.a)({},n,{},t.payload);case i.O:return Object(a.a)({},n,{fetching:!0});case i.B:return Object(a.a)({},n,{},t.payload,{fetching:!1});case i.P:return Object(a.a)({},n,{fetching:!1});case i.Q:return Object(a.a)({},n,{avatarUploading:!0});case i.b:return Object(a.a)({},n,{avatarUploading:!1,avatar:t.payload});case i.c:return Object(a.a)({},n,{avatarUploading:!1});default:return n}},g={active:[]},m=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i.A:case i.z:return Object(a.a)({},n,{active:t.payload});case i.D:return Object(a.a)({},n,{fetching:!1});case i.C:return Object(a.a)({},n,{fetching:!0});default:return n}},E={plan:null,category:null,started:!1,ended:!1,session:{},useGameSummaryHeader:!1},v={plan:null,category:null,started:!1,ended:!1,session:{},useGameSummaryHeader:!1},A=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i.i:return Object(a.a)({},n,{plan:t.payload});case i.g:return Object(a.a)({},n,{category:t.payload});case i.k:return Object(a.a)({},n,{started:!0,session:t.payload});case i.h:return Object(a.a)({},n,{started:!1,ended:!0,session:t.game});case i.j:return Object(a.a)({},n,{started:!1,ended:!1,session:{},plan:null,category:null});case i.q:return Object(a.a)({},n,{leaders:t.leaders});case i.E:return Object(a.a)({},n,{rank:t.rank});case i.v:return E;case i.l:return Object(a.a)({},n,{},v);case i.m:return Object(a.a)({},n,{useGameSummaryHeader:!1});case i.K:return Object(a.a)({},n,{useGameSummaryHeader:!0});default:return n}},j={list:[]},y=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i.e:return Object(a.a)({},n,{list:t.payload});default:return n}},w={},_=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i.q:return Object(a.a)({},n,{fetching:!1,board:t.board,first:t.board?t.board[0]:null,second:t.board?t.board[1]:null,third:t.board?t.board[2]:null});case i.s:return Object(a.a)({},n,{fetching:!1});case i.r:return Object(a.a)({},n,{fetching:!0});default:return n}},D=e(16),L=function(n){return Object(u.combineReducers)({router:Object(D.b)(n),common:f,modal:l,wallet:b,profile:O,plan:m,game:A,categories:y,leaders:_})},S=e(37),R=e(32),T=e(6),I=[function(n){return function(n){return function(t){t.type!==i.u&&t.type!==i.G||t.error?t.type===i.v&&(window.localStorage.removeItem("jwt"),T.a.setToken(null)):(window.localStorage.setItem("jwt",t.token.access_token),T.a.setToken(t.token.access_token)),n(t)}}},function(n){return function(n){return function(t){var e=window.location.hash;(e.endsWith("login")||e.endsWith("register"))&&(window.localStorage.getItem("jwt")&&(window.location.hash="#/games"));n(t)}}}];e.d(t,"b",(function(){return G})),e.d(t,"a",(function(){return k}));var G=Object(o.a)();function k(n){return Object(u.createStore)(L(G),n,Object(S.composeWithDevTools)(Object(u.applyMiddleware)(c.a,R.a.apply(void 0,[G].concat(Object(r.a)(I))))))}},18:function(n,t,e){"use strict";e.d(t,"k",(function(){return a})),e.d(t,"l",(function(){return i})),e.d(t,"d",(function(){return s})),e.d(t,"p",(function(){return f})),e.d(t,"h",(function(){return d})),e.d(t,"c",(function(){return l})),e.d(t,"o",(function(){return p})),e.d(t,"g",(function(){return b})),e.d(t,"f",(function(){return h})),e.d(t,"e",(function(){return O})),e.d(t,"q",(function(){return g})),e.d(t,"a",(function(){return m})),e.d(t,"i",(function(){return E})),e.d(t,"m",(function(){return v})),e.d(t,"n",(function(){return A})),e.d(t,"b",(function(){return j})),e.d(t,"j",(function(){return y}));var r=e(6),u=e(7),o=e(20),c=e(4);function a(){return function(n){r.a.Auth.setToken()}}function i(n,t){return function(e){return e(Object(c.v)()),r.a.Auth.login(n,t).then((function(n){"IsCashier"===n.role?(_("A Cashier is not allowed to login here. Use the mobile app"),e(v()),e(Object(c.p)())):D(e,n)}),(function(n){e(Object(c.w)(n.response&&n.response.body))}))}}function s(n){return function(t){return r.a.Customer.save(n).then((function(n){w(n.message),t(Object(u.d)("/customers"))}),(function(n){t(Object(c.j)(L(n)))}))}}function f(n){return function(t){return r.a.Customer.edit(n).then((function(n){w(n.message)}),(function(n){t(Object(c.j)(L(n)))}))}}function d(n){return function(t){return r.a.Customer.delete(n).then((function(n){w(n.message),t(Object(u.d)("/customers"))}),(function(n){t(Object(c.j)(L(n)))}))}}function l(n){return function(t){return r.a.Charge.save(n).then((function(n){w(n.message),t(Object(u.d)("/charges"))}),(function(n){t(Object(c.j)(L(n)))}))}}function p(n){return function(t){return r.a.Charge.edit(n).then((function(n){w(n.message)}),(function(n){t(Object(c.j)(L(n)))}))}}function b(n){return function(t){return r.a.Charge.delete(n).then((function(n){w(n.message),t(Object(u.d)("/charges"))}),(function(n){t(Object(c.j)(L(n)))}))}}function h(n){return function(t){return r.a.Auth.register(n).then((function(n){w(n.message),t(Object(u.d)("/users"))}),(function(n){t(Object(c.j)(L(n)))}))}}function O(n){return function(t){return r.a.Transaction.save(n).then((function(n){w(n.message),t(Object(u.d)("/transactions"))}),(function(n){t(Object(c.j)(L(n)))}))}}function g(n){return function(t){return r.a.Transaction.edit(n).then((function(n){w(n.message)}),(function(n){t(Object(c.j)(L(n)))}))}}function m(n){return function(t){return r.a.Transaction.approve(n).then((function(n){w(n.message),t(Object(u.d)("/transactions"))}),(function(n){t(Object(c.j)(L(n)))}))}}function E(n){return function(t){return r.a.Transaction.delete(n).then((function(n){w(n.message),t(Object(u.d)("/transactions"))}),(function(n){t(Object(c.j)(L(n)))}))}}function v(){return function(n){r.a.Auth.logout(),n(Object(c.x)()),n(Object(u.d)("/login"))}}function A(){return function(n){n(Object(c.q)())}}function j(){return function(n){n(Object(c.e)())}}function y(){return r.a.Auth.current()}function w(n){o.a.success(n)}function _(n){o.a.error(n)}function D(n,t){r.a.Auth.saveAuthData(t),n(Object(c.u)(t)),n(Object(u.d)("/dashboard"))}function L(n){var t="";return n?"string"===typeof n?t=n:n.response&&n.response.body&&(t="string"===typeof n.response.body?n.response.body:n.response.body[0].description):t="error occured while processing this request, try again later",t}},2:function(n,t,e){"use strict";e.d(t,"a",(function(){return r})),e.d(t,"S",(function(){return u})),e.d(t,"J",(function(){return o})),e.d(t,"I",(function(){return c})),e.d(t,"R",(function(){return a})),e.d(t,"T",(function(){return i})),e.d(t,"U",(function(){return s})),e.d(t,"W",(function(){return f})),e.d(t,"V",(function(){return d})),e.d(t,"X",(function(){return l})),e.d(t,"f",(function(){return p})),e.d(t,"Z",(function(){return b})),e.d(t,"L",(function(){return h})),e.d(t,"n",(function(){return O})),e.d(t,"F",(function(){return g})),e.d(t,"M",(function(){return m})),e.d(t,"o",(function(){return E})),e.d(t,"u",(function(){return v})),e.d(t,"v",(function(){return A})),e.d(t,"G",(function(){return j})),e.d(t,"Y",(function(){return y})),e.d(t,"ab",(function(){return w})),e.d(t,"g",(function(){return _})),e.d(t,"k",(function(){return D})),e.d(t,"l",(function(){return L})),e.d(t,"e",(function(){return S})),e.d(t,"h",(function(){return R})),e.d(t,"j",(function(){return T})),e.d(t,"H",(function(){return I})),e.d(t,"y",(function(){return G})),e.d(t,"N",(function(){return k})),e.d(t,"m",(function(){return N})),e.d(t,"K",(function(){return P})),e.d(t,"E",(function(){return U})),e.d(t,"p",(function(){return C})),e.d(t,"w",(function(){return M})),e.d(t,"q",(function(){return H})),e.d(t,"r",(function(){return W})),e.d(t,"s",(function(){return F})),e.d(t,"d",(function(){return B})),e.d(t,"t",(function(){return q})),e.d(t,"O",(function(){return J})),e.d(t,"B",(function(){return x})),e.d(t,"P",(function(){return z})),e.d(t,"Q",(function(){return V})),e.d(t,"b",(function(){return Y})),e.d(t,"c",(function(){return Q})),e.d(t,"z",(function(){return K})),e.d(t,"i",(function(){return X})),e.d(t,"A",(function(){return Z})),e.d(t,"C",(function(){return $})),e.d(t,"D",(function(){return nn})),e.d(t,"x",(function(){return tn}));var r="APP_LOAD",u="USER_LOGGED_IN",o="REQUEST_FETCHING",c="REQUEST_FETCHED",a="USER_LOADED",i="USER_LOGGING_IN",s="USER_LOGIN_FAILED",f="USER_REGISTERING",d="USER_REGISTERED",l="USER_REGISTERING_FAILED",p="ERROR_MESSAGE_CLEARED",b="WALLET_LOADED",h="SHOW_GLOBAL_HEADER",O="HIDE_GLOBAL_HEADER",g="REDIRECT",m="SHOW_MODAL",E="HIDE_MODAL",v="LOGIN",A="LOGOUT",j="REGISTER",y="WALLET_LOAD",w="WALLET_TRANSACTIONS_LOAD",_="GAME_CATEGORY_SELECTED",D="GAME_STARTED",L="GAME_UNLOADED",S="CATEGORIES_LOADED",R="GAME_ENDED",T="GAME_RESTARTED",I="RELOAD_APP",G="PAYMENT_MADE",k="TOGGLE_MENU",N="HIDE_GAME_SUMMARY_HEADER",P="SHOW_GAME_SUMMARY_HEADER",U="RANK_LOADED",C="IS_MOBILE",M=480,H="LEADERS_LOADED",W="LEADERS_LOADING",F="LEADERS_LOADING_FAILED",B="BANKS_LOADED",q="LOAD_PROFILE",J="UPDATING_PROFILE",x="PROFILE_UPDATED",z="UPDATING_PROFILE_FAILED",V="UPLOADING_AVATAR",Y="AVATAR_UPLAODED",Q="AVATAR_UPLAOD_FAILED",K="PLANS_LOADED",X="GAME_PLAN_SELECTED",Z="PLAN_PURCHASED",$="PURCHASING_PLAN",nn="PURCHASING_PLAN_FAILED",tn="MODEL_CREATION_FAILED"},33:function(n,t,e){"use strict";var r=e(0),u=e.n(r);t.a=function(){return u.a.createElement("div",{className:"App-loading"},"Loading")}},4:function(n,t,e){"use strict";e.d(t,"p",(function(){return o})),e.d(t,"v",(function(){return c})),e.d(t,"u",(function(){return a})),e.d(t,"w",(function(){return i})),e.d(t,"z",(function(){return s})),e.d(t,"g",(function(){return f})),e.d(t,"h",(function(){return d})),e.d(t,"i",(function(){return l})),e.d(t,"e",(function(){return p})),e.d(t,"y",(function(){return b})),e.d(t,"j",(function(){return h})),e.d(t,"d",(function(){return O})),e.d(t,"A",(function(){return g})),e.d(t,"t",(function(){return m})),e.d(t,"b",(function(){return E})),e.d(t,"a",(function(){return v})),e.d(t,"m",(function(){return A})),e.d(t,"r",(function(){return j})),e.d(t,"s",(function(){return y})),e.d(t,"o",(function(){return w})),e.d(t,"f",(function(){return _})),e.d(t,"x",(function(){return D})),e.d(t,"q",(function(){return L})),e.d(t,"c",(function(){return S})),e.d(t,"n",(function(){return R})),e.d(t,"l",(function(){return T})),e.d(t,"k",(function(){return I}));var r=e(3),u=e(2);function o(){return{type:u.I}}function c(){return{type:u.T}}function a(n){return{type:u.S,user:n}}function i(n){return{type:u.U,error:n}}function s(){return{type:u.W}}function f(n){return{type:u.q,board:n}}function d(){return{type:u.r}}function l(){return{type:u.s}}function p(){return{type:u.f}}function b(n){return{type:u.X,error:n}}function h(n){return{type:u.x,error:n}}function O(n){return{type:u.e,payload:n}}function g(n){return Object(r.a)({type:u.Z},n)}function m(){return{type:u.Q}}function E(n){return{type:u.b,payload:n}}function v(){return{type:u.c}}function A(n){return{type:u.B,payload:n}}function j(){return{type:u.O}}function y(){return{type:u.P}}function w(n){return{type:u.E,rank:n}}function _(){return{type:u.o}}function D(){return{type:u.v}}function L(){return{type:u.M,modalProps:{open:!0},modalType:"SignUpBonusModal"}}function S(n){return{type:u.d,banks:n}}function R(){return{type:u.C}}function T(n){return{type:u.A,payload:n}}function I(){return{type:u.D}}},40:function(n,t,e){n.exports=e(59)},56:function(n,t,e){},58:function(n,t,e){},59:function(n,t,e){"use strict";e.r(t);var r=e(0),u=e.n(r),o=e(13),c=e.n(o),a=e(15),i=e(17),s=e(12),f=(e(56),e(20)),d=(e(57),e(6)),l=(e(58),e(18)),p=e(33),b=u.a.lazy((function(){return Promise.all([e.e(28),e.e(32)]).then(e.bind(null,112))}));f.a.configure({position:"top-right",autoClose:5e3,hideProgressBar:!0,pauseOnHover:!0,draggable:!0,progress:void 0});var h=function(n){var t=Object(s.e)((function(n){return n.common.showBonus})),e=Object(s.d)();return Object(r.useEffect)((function(){t&&e(Object(l.n)())}),[t,e]),Object(r.useEffect)((function(){console.log("useEffect"),d.a.Auth.isAuth()&&(console.log("load app"),e(Object(l.k)()))}),[e]),u.a.createElement(u.a.Suspense,{fallback:u.a.createElement(p.a,null)},u.a.createElement(b,null))},O=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function g(n,t){navigator.serviceWorker.register(n).then((function(n){n.onupdatefound=function(){var e=n.installing;null!=e&&(e.onstatechange=function(){"installed"===e.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(n)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(n)))})}})).catch((function(n){console.error("Error during service worker registration:",n)}))}var m=e(16),E=Object(i.a)();c.a.render(u.a.createElement(s.a,{store:E},u.a.createElement(m.a,{history:i.b}," ",u.a.createElement(a.b,{component:h}))),document.getElementById("root")),function(n){if("serviceWorker"in navigator){if(new URL("/savlite.web",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/savlite.web","/service-worker.js");O?(!function(n,t){fetch(n).then((function(e){var r=e.headers.get("content-type");404===e.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(n){n.unregister().then((function(){window.location.reload()}))})):g(n,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,n),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):g(t,n)}))}}()},6:function(n,t,e){"use strict";(function(n){var r=e(38),u=e.n(r),o=e(39),c=e.n(o),a=e(17),i=e(18),s=u()(c.a,n.Promise),f="https://savliteapi.azurewebsites.net/api",d=null,l=function(n){return n.body},p=function(n){n.set("Accept","application/json"),d&&n.set("Authorization","Bearer ".concat(d)),n.on("response",(function(n){401===n.status&&(console.log(a.a),a.a.dispatch(Object(i.m)()))}))},b=function(n){return s.del("".concat(f).concat(n)).use(p).then(l)},h=function(n){return s.get("".concat(f).concat(n)).use(p).then(l)},O=function(n,t){return s.put("".concat(f).concat(n),t).use(p).then(l)},g=function(n,t){return s.post("".concat(f).concat(n),t).use(p).then(l)},m={logError:function(n){return g("/v1/log/error",{data:n})},isAuth:function(){var n=JSON.parse(window.localStorage.getItem("auth"));return!!(n?n.auth_token:null)},setToken:function(){var n=JSON.parse(window.localStorage.getItem("auth"));d=n.auth_token},saveAuthData:function(n){window.localStorage.setItem("auth",JSON.stringify(n)),d=n.auth_token},saveFirstTime:function(){window.localStorage.setItem("ftime",!0)},loggedInOnce:function(){return!!window.localStorage.getItem("ftime")},logout:function(){window.localStorage.removeItem("auth"),d=null},current:function(){return JSON.parse(window.localStorage.getItem("auth"))},login:function(n,t){return g("/auth/login",{username:n,password:t})},register:function(n){return g("/auth/register",n)},checkValidEmail:function(n){return g("/auth/email/is-valid",{email:n})},forgotPassword:function(n){return g("/auth/forgotPassword",{email:n})},resetPassword:function(n,t){return g("/auth/password/reset",{email:n,password:t})},sendResetToken:function(n){return g("/auth/password/email",{email:n})},verifyResetToken:function(n,t){return g("/auth/password/verify-token",{email:n,token:t})}},E={save:function(n){return g("/customer",n)},load:function(){return h("/customer")},loadByCard:function(n){return h("/customer/cards/".concat(n))},edit:function(n){return O("/customer",n)},delete:function(n){return b("/customer/".concat(n))},view:function(n){return h("/customer/".concat(n))},card:function(){return h("/customer/cards")}},v={save:function(n){return g("/charge",n)},load:function(){return h("/charge")},edit:function(n){return O("/charge",n)},delete:function(n){return b("/charge/".concat(n))},view:function(n){return h("/charge/".concat(n))}},A={save:function(n){return g("/user",n)},load:function(){return h("/user")},edit:function(n){return O("/user",n)},delete:function(n){return b("/user/".concat(n))},view:function(n){return h("/user/".concat(n))}},j={save:function(n){return g("/transaction",n)},load:function(){return h("/transaction")},edit:function(n){return O("/transaction",n)},approve:function(n){return O("/transaction/approve",n)},delete:function(n){return b("/transaction/".concat(n))},view:function(n){return h("/transaction/".concat(n))}},y={save:function(n){return O("/v1/profile",{profile:n})},load:function(){return h("/v1/profile/me")},edit:function(n){return g("/v1/profile/me/edit",n)},editBank:function(n){return g("/v1/profile/me/edit-bank",n)},editPersonal:function(n){return g("/v1/profile/me/edit-personal",n)},uploadAvatar:function(n){return g("/v1/profile/me/picture",n)}};t.a={Auth:m,Profile:y,User:A,Customer:E,Transaction:j,Charge:v,setToken:function(n){d=n}}}).call(this,e(23))}},[[40,2,3]]]);
//# sourceMappingURL=main.1748f3fe.chunk.js.map